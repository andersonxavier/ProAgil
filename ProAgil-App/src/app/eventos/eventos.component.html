
<div action="form-inline">
  <!-- Conhecido como "Two-way Data Binding" o
       [(ngModel)] nao funciona dentro de form comum! 
       Para que ele funcione foi necessario importar o
       FormsModule dentro do arquivo "app.module.ts"      
  -->
  <!--filtro lista adicionado em "eventos.component.ts"  -->
  <div class="form-group mb-2">
    <label class="mr-2">Filtro:</label> <input type="text" 
    class="form-control mr-2" 
    placeholder="buscar"
    [(ngModel)]="filtroLista">
    <!-- <button class="btn btn-outline-success">buscar</button>  -->
  </div>
</div>
<!-- Toda vez q se cria uma variavel dentro de uma imterpolacao
como no caso a baixo, é possivel usar no [(ngModel)]
-->
<h3>Filtro: {{filtroLista}}</h3> 
<table class="table table-striped">
  <thead class="thead-light">
    <!-- Se usar o "in" inves de "of" o evento vira um indice -->
    <!-- Se usar o "of" inves de "in" o evento vira um elemento dentro de eventos -->
    <tr>
      
      <th>
        <button class="btn btn-outline-primary" 
        (click)="alternarImagem()">
        <i class="{{mostrarImagem ? 'fa fa-eye-slash' : 'fa fa-eye'}}"></i>
        <!-- Para padronizar msg do botao -->
        <!-- {{mostrarImagem ? 'ocultar' : 'Mostrar'}}
          Imagem -->
        </button>
      </th>
      <th>#</th>
      <th>Tema</th>
      <th>Local</th>
      <th>Data</th>
      <th>Qtd Pessoas</th>
      <th>Lote</th>
      <th>Opções</th>      
    </tr>
  </thead>
  <!--mgIF ==> faz aparecer caso tenha elementos-->
  <tbody *ngIf="eventos && eventos.length">
    <tr *ngFor="let evento of eventosFiltrados">
      <td>
        <img *ngIf="mostrarImagem"
        src="http://localhost:5000/img/{{evento.imagemURL}}"
        [style.width.px]="imagemLargura"
        [style.margin.px]="imagemMargem">
      </td>
      <!-- <td>{{evento.eventoId}}</td> -->
      <td>{{evento.id}}</td>
      <td>{{evento.tema}}</td>
      <td>{{evento.local}}</td>
      <!-- Criado pipe em "src\app\_helps\DateTimeFormatPipe.pipe.ts"  para formatar datas-->
      <td>{{evento.dataEvento | DateTimeFormatPipe}}</td> 
      <td>{{evento.qtdPessoas}}</td>
      <!-- filtro com pipeline neste caso "uppercase" -->
      <!-- <td>{{evento.lote | uppercase}}</td> -->
      
      <!-- Feito depois do Observable -->
      <!-- <td>{{evento.lotes | json}}</td>  --> <!-- para ver o json!-->
      <td>
        <div *ngIf="!evento.lotes.length">
          Não Informado
        </div>
        <div *ngIf="evento.lotes.length">
          {{evento.lotes[0].nome | uppercase}}>
        </div>
      </td>
      <!-- --- -->
      <td>
        <div class="btn-group">
          <!--<button class="btn btn-sm btn-primary">-->
          <button class="btn btn-sm btn-success" 
          tooltip="Editar" (click)="openModal(template)"> 
              <i class="fa fa-edit"></i>
          </button> 
          <button class="btn btn-sm btn-danger" tooltip="Excluir">
              <i class="fa fa-eraser"></i>
          </button>
        </div>
      </td>
    </tr>
  </tbody>
  <!--mgIF ==> faz aparecer caso nao tenha elementos-->
  <!-- <tfoot *ngIf="eventos && !eventos.length"> -->  <!-- outra forma-->
  <tfoot *ngIf="!(eventos?.length > 0)">
    <tr>
      <td colspan="7" class="text-center">
        <h4>
          Nenhum evento encontrado!
        </h4>
      </td>
    </tr>    
  </tfoot>
  
</table>


<ng-template #template>
  <div class="modal-header">
    <h4 class="modal-title pull-left">Modal</h4>
     <button type="button"	class="close pull-right"
      aria-label="Close" (click)="modalRef.hide()"> <!--modaralRef criado em eventos.component.ts-->
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    this is a modal.
  </div>
</ng-template>




<!-- Segundo exemplo -->
<!-- 
  <hr>
  
  <div *ngFor="let evento of eventos">
    Tema: {{evento.tema}}
    <br>
    Local: {{evento.local}}
    <br>
    <hr>
  </div>
-->

<!-- Primeiro exemplo-->
<!--{{eventos[0].Tema}} -->
